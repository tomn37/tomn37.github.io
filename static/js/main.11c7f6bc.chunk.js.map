{"version":3,"sources":["Assets/bulldozer.jpg","Assets/snake.png","Assets/rock.jfif","Models/Messages.ts","GameBoard/Grid/Messages/PowerModeMessage.tsx","GameBoard/Grid/Messages/Message.tsx","GameBoard/Grid/Background/KingBackground.tsx","Models/Direction.ts","GameBoard/Grid/GridCell/GridCell.js","GameBoard/Grid/GridCell/EmptyGridCell.js","GameBoard/Grid/GridCell/defaultGrid.js","GameBoard/Grid/GridCell/BadFood.js","GameBoard/Grid/GridCell/SnakeBody.js","GameBoard/Grid/GridCell/Crown.js","GameBoard/Grid/GridCell/Food.js","GameBoard/Grid/GridCell/SnakeHead.js","GameBoard/Grid/GridCells.tsx","GameBoard/Grid/InfoBar/Score/Score.tsx","GameBoard/Grid/Grid.tsx","Models/Position.ts","Models/DirectedPosition.ts","Models/Snake.ts","Models/Hiscore.ts","Models/Board.ts","App.js","serviceWorker.js","index.js"],"names":["module","exports","kingMessage","messages","Math","floor","random","length","React","memo","props","board","timer","crownActive","className","message","KingBackground","Direction","alt","src","BulldozerImg","children","GridCell","x","y","width","count","isFood","isSnakeHead","isSnakeBody","direction","isBadFood","isCrown","kingMode","classes","push","transform","N","E","S","W","join","style","height","bulldozer","snake","rock","foodProps","Object","assign","defaultGrid","SnakeBody","SnakeHead","GridCells","headPosition","foodPosition","crownPosition","tailPositions","badFoodPositions","getCell","key","toString","isEqual","newProps","some","z","position","find","gridCells","i","j","Score","foodEaten","badFoodEaten","score","aria-label","role","Grid","onRestart","size","boardSize","useState","setHeadPosition","setTailPositions","setFoodPosition","setCrownPosition","setBadFoodPositions","gameOverMessage","setGameOverMessage","setTimer","setMessage","useEffect","getHeadPosition","getBodyPositions","getFood","undefined","sendMessage","ticks","firstEat","intervalH","setInterval","getNewCrown","getGameoverMessage","tick","snakeHead","food","hasHitBadFood","eatBadFood","getBadFoods","isPositionEqual","increaseLength","getNewFood","getNewBadFood","crown","getCrown","setCrownActive","crownTime","interval","setTimeout","clearInterval","crownMode","fn","ev","onKeyPress","document","addEventListener","removeEventListener","onClick","PowerModeMessage","getScore","_foodEaten","_badFoodEaten","Position","this","DirectedPosition","Snake","snakeSize","gridSize","_size","_bodyPositions","_headPosition","_direction","_newdirection","_moveTail","stack","startY","ceil","east","clone","west","north","south","indexToStart","newSnakePosition","slice","updateDirections","unshift","positions","reverse","getHiscore","Number","parseInt","localStorage","getItem","Board","_food","_crown","_badFoods","counter","isOutOfBounds","hasHitSelf","setItem","getFoodPosition","filter","excludedPositions","getNextHeadPositions","getFoodPositionRecurse","randX","randY","randomPosition","p","bodyPositions","App","setBoard","marginLeft","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","getElementById","URL","process","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.11c7f6bc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bulldozer.1c21b351.jpg\";","module.exports = __webpack_public_path__ + \"static/media/snake.aa6a8a77.png\";","module.exports = __webpack_public_path__ + \"static/media/rock.33d58dc3.jfif\";","export function kingMessage() {\n    const messages = [\n        \"Yep, that's pizza\",\n        \"Don't eat the rocks\",\n        \"Additional pizza required\",\n        \"You do not have enough pizza\"\n    ]\n    const random = Math.floor(Math.random() * messages.length);\n\n    return messages[random];\n}","import Board from \"../../../Models/Board\";\nimport React from 'react';\ninterface PowerModeProps {\n    board: Board;\n    timer: number;\n}\n\nfunction PowerMode(props: PowerModeProps) {\n    const { board, timer } = props;\n\n    return board.crownActive ? <h1 className=\"power-mode\">Quick!!! Eat all the rocks!!! {timer}s</h1> : null;\n}\n\nexport default React.memo(PowerMode);","import React from 'react';\ninterface MessageProps {\n    message: string;\n}\n\nconst Message = ({message}: MessageProps) => <h1 className=\"message\">{message}</h1>\n\nexport default React.memo(Message);","import React from 'react';\nimport BulldozerImg from '../../../Assets/bulldozer.jpg';\ninterface BackgroundProps {\n    children: JSX.Element;\n}\nfunction KingBackground (props: BackgroundProps) {\n    return (<>\n                <img className=\"img-1\" alt=\"\" src={BulldozerImg} />\n                <img className=\"img-2\" alt=\"\" src={BulldozerImg} />\n                <img className=\"img-3\" alt=\"\" src={BulldozerImg} />\n                <img className=\"img-4\" alt=\"\" src={BulldozerImg} />\n                {props.children}\n            </>)\n}\n\nexport default KingBackground;\n","export enum Direction {\r\n    N,\r\n    S,\r\n    E,\r\n    W\r\n}","import React from 'react';\nimport snake from '../../../Assets/snake.png';\nimport bulldozer from '../../../Assets/bulldozer.jpg';\nimport rock from '../../../Assets/rock.jfif';\nimport { Direction } from '../../../Models/Direction';\n\nfunction GridCell(props) {\n    const { x, y, width, count, isFood, isSnakeHead, isSnakeBody, direction, isBadFood, isCrown, kingMode } = props;\n    const classes = [];\n    if (y === count - 1) {\n        classes.push(\"top\")\n    }\n\n    if (y === 0) {\n        classes.push(\"bottom\");\n    }\n\n    if (x === 0) {\n        classes.push(\"left\")\n    }\n\n    if (x === count - 1) {\n        classes.push(\"right\")\n    }\n\n    if (isFood) {\n        classes.push(\"food\")\n    }\n\n    if (isSnakeBody) {\n        classes.push(\"snakebody\")\n    }\n\n    if (isSnakeHead) {\n        classes.push(\"snakehead\")\n    }\n\n    const transform = {\n        [Direction.N]: \"rotate(0deg)\",\n        [Direction.E]: \"rotate(90deg)\",\n        [Direction.S]: \"rotate(180deg)\",\n        [Direction.W]: \"rotate(270deg)\"\n    }\n\n    return <div className={classes.join(' ') + \" grid-cell\"} style={{width: width, height: width }}>\n        {(isSnakeHead || isSnakeBody) && <img alt=\"snakehead\" src={kingMode ? bulldozer : snake} style={{width: \"100%\", transform: transform[direction]}} />}\n        {isFood && \"🍕\"}\n        {/* {isSnakeBody && \"🐍\"} */}\n        {isCrown && \"👑\"}\n        {isBadFood && <img alt=\"snakehead\" src={rock} style={{width: \"100%\", height: \"100%\"}} />}\n    </div>\n}\n\nexport default GridCell;","\r\nimport React from 'react';\r\nimport GridCell from \"./GridCell\";\r\n\r\nfunction EmptyGridCell(props) {\r\n    const foodProps = Object.assign({}, {...props}, {isFood: false, isSnakeBody: false, isSnakeHead: false})\r\n    return <GridCell {...foodProps} />\r\n}\r\n\r\nexport default React.memo(EmptyGridCell);","export default {\n    isFood: false, \n    isSnakeHead: false, \n    isSnakeBody: false, \n    isBadFood: false,\n    isCrown: false\n}","\nimport React from 'react';\nimport GridCell from \"./GridCell\";\nimport defaultGrid from './defaultGrid';\n\n function BadFood(props) {\n    const foodProps = Object.assign({}, {...props}, {...defaultGrid}, {isBadFood: true})\n    return <GridCell {...foodProps} />\n}\n\nexport default React.memo(BadFood);","import GridCell from \"./GridCell\";\nimport React from 'react';\n\nfunction SnakeBody(props) {\n    const foodProps = Object.assign({}, {...props}, {isSnakeBody: true})\n    return <GridCell {...foodProps} />\n}\n\nexport default SnakeBody;","\nimport React from 'react';\nimport GridCell from \"./GridCell\";\nimport defaultGrid from './defaultGrid';\n\n function Crown(props) {\n    const foodProps = Object.assign({}, {...props}, {...defaultGrid}, {isCrown: true})\n    return <GridCell {...foodProps} />\n}\n\nexport default React.memo(Crown);","\nimport React from 'react';\nimport GridCell from \"./GridCell\";\nimport defaultGrid from './defaultGrid';\n\n function Food(props) {\n    const foodProps = Object.assign({}, {...props}, {...defaultGrid}, {isFood: true})\n    return <GridCell {...foodProps} />\n}\n\nexport default React.memo(Food);","import GridCell from \"./GridCell\";\nimport React from 'react';\n\nfunction SnakeHead(props) {\n    const foodProps = Object.assign({}, {...props}, {isSnakeHead: true});\n    return <GridCell {...foodProps} />\n}\n\nexport default SnakeHead;","import React from 'react';\nimport EmptyGridCell from \"./GridCell/EmptyGridCell\";\nimport BadFood from './GridCell/BadFood';\nimport SnakeBody from './GridCell/SnakeBody';\nimport Crown from './GridCell/Crown';\nimport Food from './GridCell/Food';\nimport SnakeHead from './GridCell/SnakeHead';\nimport Position from '../../Models/Position';\nimport DirectedPosition from '../../Models/DirectedPosition';\n\ninterface GridCellsProps {\n    count: number;\n    headPosition: DirectedPosition | undefined;\n    foodPosition: Position | undefined;\n    crownPosition: Position | undefined;\n    tailPositions: DirectedPosition[];\n    badFoodPositions: Position[];\n    kingMode: boolean;\n}\n\n\nfunction GridCells(props: GridCellsProps) {\n    const { count, headPosition, foodPosition, crownPosition, tailPositions, badFoodPositions, kingMode } = props;\n    function getCell(x: number, y: number) {\n        const key = x.toString() + '-' + y.toString();\n        const width = 500 / count;\n        const props = {key, width, count, x, y, kingMode};\n        if (headPosition?.isEqual(x, y)) {\n            const newProps = Object.assign({}, props, {direction: headPosition?.direction})\n            return <SnakeHead {...newProps}  />;\n        }\n\n        if (foodPosition?.isEqual(x, y)) {\n            return <Food {...props} />\n        }\n\n        if (crownPosition?.isEqual(x, y)) {\n            return <Crown {...props} />\n        }\n\n        if (tailPositions.some(z => z.isEqual(x, y))) {\n            const position = tailPositions.find(z => z.isEqual(x, y));\n            const newProps = Object.assign({}, props, {direction: position?.direction})\n            return <SnakeBody {...newProps} />;\n        }\n\n        if (badFoodPositions.some(z => z.isEqual(x, y))) {\n            return <BadFood {...props} />\n        }\n\n        return <EmptyGridCell {...props} />\n    }\n    const gridCells = [];\n    for (let i = count - 1; i > -1; i--) {\n        for (let j = 0; j < count; j++) {\n            gridCells.push(getCell(j, i));\n        } \n    }\n\n    return <>{gridCells}</>;\n}\n\nexport default GridCells;","import React from 'react';\nimport bulldozer from '../../../../Assets/bulldozer.jpg';\n\ninterface ScoreProps {\n    foodEaten: number;\n    badFoodEaten: number;\n    score: number;\n}\nexport default function Score(props: ScoreProps) {\n    const {foodEaten, badFoodEaten, score } = props;\n    return <div className=\"score-container\">\n        <div className=\"score\">\n            {score}\n        </div>\n        <div className=\"score\">\n            <span>{foodEaten}</span>\n            <span aria-label=\"counter\" role=\"img\">🍕</span>\n        </div>\n        <div className=\"score\">\n            <span>{badFoodEaten}</span>\n            <img alt=\"bulldozer-logo\" src={bulldozer} />\n        </div>\n    </div>\n}","\nimport React, { useState, useEffect } from 'react';\n\nimport Board from '../../Models/Board';\nimport Position  from '../../Models/Position';\nimport { kingMessage } from '../../Models/Messages';\nimport PowerModeMessage from './Messages/PowerModeMessage';\nimport Message from './Messages/Message';\nimport KingBackground from './Background/KingBackground';\nimport GridCells from './GridCells';\nimport Score from './InfoBar/Score/Score';\nimport DirectedPosition from '../../Models/DirectedPosition';\n\ninterface GridProps {\n    board: Board;\n    onRestart: () => void;\n}\n\nexport default function Grid(props: GridProps) {\n    const { board, onRestart } = props;\n    const { boardSize: size } = board;\n    const [headPosition, setHeadPosition] = useState<DirectedPosition>();\n    const [tailPositions, setTailPositions] = useState<DirectedPosition[]>([]);\n    const [foodPosition, setFoodPosition] = useState<Position>();\n    const [crownPosition, setCrownPosition] = useState<Position>();\n    const [badFoodPositions, setBadFoodPositions] = useState<Position[]>([]);\n    const [gameOverMessage, setGameOverMessage] = useState();\n    const [timer, setTimer] = useState(15);\n    const [message, setMessage] = useState();\n    useEffect(() => {\n        const { snake } = board;\n        setHeadPosition(snake.getHeadPosition());\n        setTailPositions(snake.getBodyPositions());\n        setFoodPosition(board.getFood());\n        setBadFoodPositions([]);\n        setCrownPosition(undefined);\n        setMessage(undefined);\n        setGameOverMessage(undefined);\n    }, [board]);\n    useEffect(() => {  \n        function sendMessage(message: string) {\n            setMessage(message);\n        }\n        function crownMode() {\n            setCrownPosition(undefined);\n            board.setCrownActive();\n            let crownTime = 15;\n            let interval = setInterval(() => {\n                crownTime--;\n                setTimer(crownTime);\n            }, 1000)\n            setTimeout(() => {\n                board.crownActive = false; \n                setTimer(15); \n                clearInterval(interval);\n                setCrownPosition(board.getNewCrown());\n            }, 15000);\n        }\n\n        const { snake } = board;\n        let ticks = 0;\n        let firstEat = true;\n        const intervalH = setInterval(() => {\n            ticks++;\n            if (ticks === 1) {\n                sendMessage(\"Collect 🍕 to make the 🐍 longer\");\n            }\n\n            if (ticks === 30) {\n                sendMessage(\"Collect 👑 to king the 🐍.\");\n                setCrownPosition(board.getNewCrown());\n            }        \n            if (board.getGameoverMessage()) return;\n            snake.tick();\n            const snakeHead = snake.getHeadPosition();\n            const food = board.getFood();\n            setHeadPosition(snakeHead);\n            setTailPositions(snake.getBodyPositions());\n            setGameOverMessage(board.getGameoverMessage());\n            if (board.hasHitBadFood()){\n                if (board.crownActive) {\n                    sendMessage(kingMessage())\n                    setCrownPosition(undefined);\n                    board.eatBadFood(snakeHead);\n                    setBadFoodPositions(board.getBadFoods());\n                }\n            }\n            if (food.isPositionEqual(snakeHead)) {\n                snake.increaseLength();\n                if (firstEat) {firstEat = false; sendMessage(\"Don't eat the rocks!\");} else {\n                    sendMessage(kingMessage());\n                }\n                setFoodPosition(board.getNewFood());\n                setBadFoodPositions(board.getNewBadFood());\n            }\n            const crown = board.getCrown();\n            if (crown?.isPositionEqual(snakeHead)) {\n                crownMode();\n            }\n        }, board.interval\n        )\n\n        return () => clearInterval(intervalH);\n    }, [board])\n\n    useEffect(() => {\n        const { snake } = board;\n        const fn = (ev: KeyboardEvent) => {\n            snake.onKeyPress(ev.key);\n        };\n        document.addEventListener(\"keydown\", fn);\n\n        return () => document.removeEventListener(\"keydown\", fn);\n    }, [board])\n\n    return (\n        gameOverMessage ? <h1 onClick={onRestart} className=\"restart\">{gameOverMessage} Click to restart!</h1> :\n    <div className=\"container\">\n        <div className=\"grid-container\">\n            <div className={`${board.crownActive ? \"king\" : \"\"} grid`}>\n                <KingBackground >\n                    <GridCells \n                    count={size} \n                    badFoodPositions={badFoodPositions}\n                    crownPosition={crownPosition}\n                    foodPosition={foodPosition}\n                    headPosition={headPosition}\n                    tailPositions={tailPositions}\n                    kingMode={board.crownActive} />\n                </KingBackground>\n\n            </div>\n            <PowerModeMessage board={board} timer={timer} />\n            <Message message={message} />\n        </div>\n            <Score score={board.getScore()} foodEaten={board.snake._foodEaten} badFoodEaten={board.snake._badFoodEaten} />\n    </div>\n)\n}\n\n","export default class Position {\n\n    constructor(public x:number, public y: number) {}\n\n    clone(): Position {\n        return new Position(this.x, this.y);\n    }\n\n    isEqual(x: number, y: number): boolean {\n        return this.x === x && this.y === y;\n    }\n\n    isPositionEqual(position: Position) {\n        return this.y === position.y && this.x === position.x;\n    }\n}","import Position from \"./Position\";\nimport { Direction } from \"./Direction\";\n\nexport default class DirectedPosition extends Position {\n    constructor(x:number, y: number, public direction: Direction) {\n        super(x, y);\n    }\n\n    clone() {\n        return new DirectedPosition(this.x, this.y, this.direction)\n    }\n}","import { Direction } from \"./Direction\";\nimport DirectedPosition from \"./DirectedPosition\";\n\nexport default class Snake {\n    _size: number;\n    _bodyPositions: DirectedPosition[] = [];\n    _headPosition: DirectedPosition;\n    _direction: Direction = Direction.E;\n    _newdirection: Direction = Direction.E;\n    _moveTail = true;\n    _foodEaten = 0;\n    _badFoodEaten = 0;\n    constructor(snakeSize: number, gridSize: number) {\n        this._size = snakeSize;\n        const startY = Math.ceil(gridSize / 2);\n        this._headPosition = new DirectedPosition(snakeSize, startY, this._direction);\n        this.stack.push(this._direction);\n        for (let i = 0; i < snakeSize; i++) {\n            this._bodyPositions.push(new DirectedPosition(i, startY, this._direction))\n            this.stack.push(this._direction);\n        }\n    }\n\n    getHeadPosition() {\n        return this._headPosition;\n    }\n\n    getNextHeadPositions() {\n        const east = this._headPosition.clone();\n        const west = this._headPosition.clone();\n        const north = this._headPosition.clone();\n        const south = this._headPosition.clone();\n        east.x += 1;\n        west.x -= 1;\n        north.y += 1;\n        south.x += 1;\n        return [east, west, north, south];\n    }\n\n    getBodyPositions() {\n        return this._bodyPositions;\n    }\n\n    getDirection() {\n        return this._direction;\n    }\n\n    move(direction: Direction) {\n        this._newdirection = direction;\n    }\n\n    tick() {\n        this._direction = this._newdirection;\n        const indexToStart = this._moveTail ? 1 : 0;\n        const newSnakePosition = this._bodyPositions.slice(indexToStart);\n        this._bodyPositions = [...newSnakePosition, this._headPosition.clone()];\n        this.updateDirections();\n        switch(this._direction) {\n            case Direction.E: this._headPosition.x +=1; break;\n            case Direction.W: this._headPosition.x -=1; break;\n            case Direction.N: this._headPosition.y +=1; break;\n            case Direction.S: this._headPosition.y -=1; break;\n        }\n        this._moveTail = true;\n    }\n\n    onKeyPress(key: string) {\n        switch(key) {\n            case \"ArrowDown\": if(this._direction !== Direction.N) this._newdirection = Direction.S;\n                break;\n            case \"ArrowUp\": if(this._direction !== Direction.S) this._newdirection = Direction.N;\n                break;\n            case \"ArrowLeft\": if(this._direction !== Direction.E) this._newdirection = Direction.W;\n                break;\n            case \"ArrowRight\": if(this._direction !== Direction.W) this._newdirection = Direction.E;\n                break;\n        }\n    }\n\n    increaseLength() {\n        this._foodEaten++;\n        this._moveTail = false;\n    }\n\n    eatBadFood() {\n        this._badFoodEaten++;\n    }\n    stack: Direction[] = []\n\n    private updateDirections() {\n        this._headPosition.direction = this._direction;\n        this.stack.unshift(this._direction);\n        this.stack = this.stack.slice(0, this._size + this._foodEaten);\n        const positions = this._bodyPositions.slice().reverse();\n        for (let i = 0; i < positions.length; i++) {\n            positions[i].direction = this.stack[i];\n        }\n    }\n}\n","export function setHiscore(score: number) {\n    const currentScore = getHiscore();\n    if (score > currentScore) {\n        localStorage.setItem(\"hiscore\", score.toString());\n    }\n\n    return getHiscore();\n}\n\nexport function getHiscore() {\n    return Number.parseInt(localStorage.getItem(\"hiscore\") || \"0\");\n}","import Snake from \"./Snake\";\nimport Position from \"./Position\";\nimport { setHiscore } from \"./Hiscore\";\n\nexport default class Board {\n    _food: Position;\n    _crown: Position | undefined;\n    _badFoods: Position[] = [];\n    snake: Snake;\n    counter = 0;\n    crownActive = false;\n    constructor(public snakeSize: number, public boardSize: number, public interval: number) {\n        this.snake = new Snake(snakeSize, boardSize);\n        this._food = this.getNewFood();\n    }\n\n    getGameoverMessage(): undefined | string {\n        const isGameOver = (this.isOutOfBounds() || this.hasHitSelf() || (this.hasHitBadFood() && !this.crownActive));\n        if (isGameOver) {\n            setHiscore(this.getScore());\n            if (this.hasHitBadFood() && !this.crownActive) {\n                return \"Don't eat the Rocks!!\";\n            }\n\n            if (this.isOutOfBounds()) {\n                return \"You're out of bounds!\";\n            }\n\n            if (this.hasHitSelf()) {\n                return \"You hit yourself!\";\n            }\n\n        }\n    }\n\n    hasHitBadFood() {\n        const headPosition = this.snake.getHeadPosition();\n        return this._badFoods.some(x => x.isPositionEqual(headPosition));\n    }\n\n    getFood() {\n        return this._food;\n    }\n\n    getInterval() {\n        return this.interval\n    }\n\n    getNewFood() {\n        this._food = this.getFoodPosition();\n\n        return this.getFood();\n    }\n\n    getBadFoods() {\n        return this._badFoods;\n    }\n\n    getNewBadFood() {\n\n        this.counter++;\n        for (let i = 0; i < this.counter; i++) {\n            const food = this.getFoodPosition();\n            this._badFoods.push(food);\n        }\n\n        return this.getBadFoods();\n    }\n\n    eatBadFood(position: Position) {\n        this.snake.eatBadFood();\n        this._badFoods = this._badFoods.filter(x => !x.isPositionEqual(position))\n    }\n\n    getCrown() {\n        return this._crown;\n    }\n\n    setCrownActive() {\n        this.crownActive = true;\n    }\n\n    getNewCrown() {\n        const crown = this.getFoodPosition();\n        this._crown = crown;\n        return this.getCrown();\n    }\n\n    getFoodPosition() {\n        const excludedPositions = [\n            this.snake.getHeadPosition(), \n            this._food, \n            this._crown, \n            ...this.snake.getNextHeadPositions(), \n            ...this._badFoods, \n            ...this.snake.getBodyPositions()];\n        return this.getFoodPositionRecurse(excludedPositions);\n    }\n\n    getScore() {\n        return (this.snake._badFoodEaten * 20) + (this.snake._foodEaten * 10);\n    }\n\n    private getFoodPositionRecurse(excludedPositions: (Position | undefined)[]): Position {\n\n        const randX = Math.floor(Math.random() * this.boardSize);\n        const randY = Math.floor(Math.random() * this.boardSize);\n        const randomPosition = new Position(randX, randY);\n        if (excludedPositions.some(p => p && p.isPositionEqual(randomPosition))) {\n            return this.getFoodPositionRecurse(excludedPositions);\n        }\n\n        return randomPosition;\n    }\n\n    private isOutOfBounds(): boolean {\n        const headPosition = this.snake.getHeadPosition();\n        return headPosition.x >= this.boardSize || \n        headPosition.x <= -1 ||\n        headPosition.y >= this.boardSize ||\n        headPosition.y <= -1;\n    }\n\n    private hasHitSelf(): boolean {\n        const bodyPositions = this.snake.getBodyPositions();\n        const headPosition = this.snake.getHeadPosition();\n\n        return bodyPositions.some(x => x.isPositionEqual(headPosition));\n    }\n}","import React, { useState } from 'react';\nimport './App.css';\nimport Grid from './GameBoard/Grid/Grid';\nimport Board from './Models/Board';\nimport { getHiscore } from './Models/Hiscore';\n\nfunction App() {\n  const [board, setBoard] = useState(new Board(3, 12, 400));\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>react-snake</h1>\n        <h1 style={{marginLeft: '30px'}}>Hiscore: {getHiscore()}</h1>\n      </header>\n      <Grid board={board} onRestart={() => setBoard(new Board(3, 12, 400))} />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}