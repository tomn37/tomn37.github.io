(this["webpackJsonpreact-snake"]=this["webpackJsonpreact-snake"]||[]).push([[0],[,,,function(e,t,A){e.exports=A.p+"static/media/crown.76881b17.png"},,,,,,,function(e,t){e.exports="data:image/jpeg;base64,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"},function(e,t,A){e.exports=A.p+"static/media/tom.bd3a39d7.jpg"},,,,function(e,t,A){e.exports=A(22)},,,,,function(e,t,A){},function(e,t,A){},function(e,t,A){"use strict";A.r(t);var o=A(0),i=A.n(o),n=A(9),a=A.n(n),s=(A(20),A(2));A(21);var r=i.a.memo((function(e){var t=e.board,A=e.timer;return t.crownActive?i.a.createElement("h1",{className:"power-mode"},"Quick!!! Crown all the tomsos!!! ",A,"s"):null})),c=i.a.memo((function(e){var t=e.message;return i.a.createElement("h1",{className:"message"},t)})),d=A(3),u=A.n(d);var l,h=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{className:"img-1",alt:"",src:u.a}),i.a.createElement("img",{className:"img-2",alt:"",src:u.a}),i.a.createElement("img",{className:"img-3",alt:"",src:u.a}),i.a.createElement("img",{className:"img-4",alt:"",src:u.a}),e.children)},g=A(1),v=A(6),m=A(10),E=A.n(m),f=A(11),w=A.n(f);!function(e){e[e.N=0]="N",e[e.S=1]="S",e[e.E=2]="E",e[e.W=3]="W"}(l||(l={}));var k=function(e){var t,A=e.x,o=e.y,n=e.width,a=e.count,s=e.isFood,r=e.isSnakeHead,c=e.isSnakeBody,d=e.direction,h=e.isBadFood,g=e.isCrown,m=e.kingMode,f=[];o===a-1&&f.push("top"),0===o&&f.push("bottom"),0===A&&f.push("left"),A===a-1&&f.push("right"),s&&f.push("food"),c&&f.push("snakebody"),r&&f.push("snakehead");var k=(t={},Object(v.a)(t,l.N,"rotate(0deg)"),Object(v.a)(t,l.E,"rotate(90deg)"),Object(v.a)(t,l.S,"rotate(180deg)"),Object(v.a)(t,l.W,"rotate(270deg)"),t);return i.a.createElement("div",{className:f.join(" ")+" grid-cell",style:{width:n,height:n}},(r||c)&&i.a.createElement("img",{alt:"snakehead",src:m?u.a:E.a,style:{width:"100%",transform:k[d]}}),s&&"\ud83c\udf55",g&&"\ud83d\udc51",h&&i.a.createElement("img",{alt:"snakehead",src:w.a,style:{width:"100%",height:"100%"}}))};var b=i.a.memo((function(e){var t=Object.assign({},Object(g.a)({},e),{isFood:!1,isSnakeBody:!1,isSnakeHead:!1});return i.a.createElement(k,t)})),j={isFood:!1,isSnakeHead:!1,isSnakeBody:!1,isBadFood:!1,isCrown:!1};var M=i.a.memo((function(e){var t=Object.assign({},Object(g.a)({},e),Object(g.a)({},j),{isBadFood:!0});return i.a.createElement(k,t)}));var y=function(e){var t=Object.assign({},Object(g.a)({},e),{isSnakeBody:!0});return i.a.createElement(k,t)};var B=i.a.memo((function(e){var t=Object.assign({},Object(g.a)({},e),Object(g.a)({},j),{isCrown:!0});return i.a.createElement(k,t)}));var F=i.a.memo((function(e){var t=Object.assign({},Object(g.a)({},e),Object(g.a)({},j),{isFood:!0});return i.a.createElement(k,t)}));var I=function(e){var t=Object.assign({},Object(g.a)({},e),{isSnakeHead:!0});return i.a.createElement(k,t)};var S=function(e){var t=e.count,A=e.headPosition,o=e.foodPosition,n=e.crownPosition,a=e.tailPositions,s=e.badFoodPositions,r=e.kingMode;function c(e,c){var d={key:e.toString()+"-"+c.toString(),width:500/t,count:t,x:e,y:c,kingMode:r};if(null===A||void 0===A?void 0:A.isEqual(e,c)){var u=Object.assign({},d,{direction:null===A||void 0===A?void 0:A.direction});return i.a.createElement(I,u)}if(null===o||void 0===o?void 0:o.isEqual(e,c))return i.a.createElement(F,d);if(null===n||void 0===n?void 0:n.isEqual(e,c))return i.a.createElement(B,d);if(a.some((function(t){return t.isEqual(e,c)}))){var l=a.find((function(t){return t.isEqual(e,c)})),h=Object.assign({},d,{direction:null===l||void 0===l?void 0:l.direction});return i.a.createElement(y,h)}return s.some((function(t){return t.isEqual(e,c)}))?i.a.createElement(M,d):i.a.createElement(b,d)}for(var d=[],u=t-1;u>-1;u--)for(var l=0;l<t;l++)d.push(c(l,u));return i.a.createElement(i.a.Fragment,null,d)};function P(e){var t=e.foodEaten,A=e.badFoodEaten,o=e.score;return i.a.createElement("div",{className:"score-container"},i.a.createElement("div",{className:"score"},o),i.a.createElement("div",{className:"score"},i.a.createElement("span",null,t),i.a.createElement("span",{"aria-label":"counter",role:"img"},"\ud83c\udf55")),i.a.createElement("div",{className:"score"},i.a.createElement("span",null,A),i.a.createElement("img",{alt:"crown-logo",src:u.a})))}function C(e){var t=e.board,A=e.onRestart,n=t.boardSize,a=Object(o.useState)(),d=Object(s.a)(a,2),u=d[0],l=d[1],g=Object(o.useState)([]),v=Object(s.a)(g,2),m=v[0],E=v[1],f=Object(o.useState)(),w=Object(s.a)(f,2),k=w[0],b=w[1],j=Object(o.useState)(),M=Object(s.a)(j,2),y=M[0],B=M[1],F=Object(o.useState)([]),I=Object(s.a)(F,2),C=I[0],H=I[1],O=Object(o.useState)(),Q=Object(s.a)(O,2),D=Q[0],p=Q[1],x=Object(o.useState)(15),N=Object(s.a)(x,2),W=N[0],K=N[1],Y=Object(o.useState)(),R=Object(s.a)(Y,2),G=R[0],U=R[1];return Object(o.useEffect)((function(){var e=t.snake;l(e.getHeadPosition()),E(e.getBodyPositions()),b(t.getFood()),H([]),B(void 0),U(void 0),p(void 0)}),[t]),Object(o.useEffect)((function(){function e(e){U(e)}var A=t.snake,o=0,i=!0,n=setInterval((function(){if(1===++o&&e("Collect \ud83c\udf55 to make the Shanali \ud83d\udc0d longer"),30===o&&(e("Collect \ud83d\udc51 to king the Tomsos."),B(t.getNewCrown())),!t.getGameoverMessage()){A.tick();var n=A.getHeadPosition(),a=t.getFood();l(n),E(A.getBodyPositions()),p(t.getGameoverMessage()),t.hasHitBadFood()&&t.crownActive&&(e(function(){var e=["Kinged!","Massive King","Huge King","Kingo","Kinged!!","Good one","Tom's the king","Massive kingo","kingo","huge massive king","massive huge king","kingo...."];return e[Math.floor(Math.random()*e.length)]}()),B(void 0),t.eatBadFood(n),H(t.getBadFoods())),a.isPositionEqual(n)&&(A.increaseLength(),i&&(i=!1,e("Don't eat the Tomsos!")),b(t.getNewFood()),H(t.getNewBadFood()));var s=t.getCrown();(null===s||void 0===s?void 0:s.isPositionEqual(n))&&function(){B(void 0),t.setCrownActive();var e=15,A=setInterval((function(){e--,K(e)}),1e3);setTimeout((function(){t.crownActive=!1,K(15),clearInterval(A),B(t.getNewCrown())}),15e3)}()}}),t.interval);return function(){return clearInterval(n)}}),[t]),Object(o.useEffect)((function(){var e=t.snake,A=function(t){e.onKeyPress(t.key)};return document.addEventListener("keydown",A),function(){return document.removeEventListener("keydown",A)}}),[t]),D?i.a.createElement("h1",{onClick:A,className:"restart"},D," Click to restart!"):i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid-container"},i.a.createElement("div",{className:"".concat(t.crownActive?"king":""," grid")},i.a.createElement(h,null,i.a.createElement(S,{count:n,badFoodPositions:C,crownPosition:y,foodPosition:k,headPosition:u,tailPositions:m,kingMode:t.crownActive}))),i.a.createElement(r,{board:t,timer:W}),i.a.createElement(c,{message:G})),i.a.createElement(P,{score:t.getScore(),foodEaten:t.snake._foodEaten,badFoodEaten:t.snake._badFoodEaten}))}var H=A(7),O=A(4),Q=A(5),D=A(13),p=A(12),x=A(14),N=function(){function e(t,A){Object(O.a)(this,e),this.x=t,this.y=A}return Object(Q.a)(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"isEqual",value:function(e,t){return this.x===e&&this.y===t}},{key:"isPositionEqual",value:function(e){return this.y===e.y&&this.x===e.x}}]),e}(),W=function(e){function t(e,A,o){var i;return Object(O.a)(this,t),(i=Object(D.a)(this,Object(p.a)(t).call(this,e,A))).direction=o,i}return Object(x.a)(t,e),Object(Q.a)(t,[{key:"clone",value:function(){return new t(this.x,this.y,this.direction)}}]),t}(N),K=function(){function e(t,A){Object(O.a)(this,e),this._size=void 0,this._bodyPositions=[],this._headPosition=void 0,this._direction=l.E,this._newdirection=l.E,this._moveTail=!0,this._foodEaten=0,this._badFoodEaten=0,this.stack=[],this._size=t;var o=Math.ceil(A/2);this._headPosition=new W(t,o,this._direction),this.stack.push(this._direction);for(var i=0;i<t;i++)this._bodyPositions.push(new W(i,o,this._direction)),this.stack.push(this._direction)}return Object(Q.a)(e,[{key:"getHeadPosition",value:function(){return this._headPosition}},{key:"getNextHeadPositions",value:function(){var e=this._headPosition.clone(),t=this._headPosition.clone(),A=this._headPosition.clone(),o=this._headPosition.clone();return e.x+=1,t.x-=1,A.y+=1,o.x+=1,[e,t,A,o]}},{key:"getBodyPositions",value:function(){return this._bodyPositions}},{key:"getDirection",value:function(){return this._direction}},{key:"move",value:function(e){this._newdirection=e}},{key:"tick",value:function(){this._direction=this._newdirection;var e=this._moveTail?1:0,t=this._bodyPositions.slice(e);switch(this._bodyPositions=[].concat(Object(H.a)(t),[this._headPosition.clone()]),this.updateDirections(),this._direction){case l.E:this._headPosition.x+=1;break;case l.W:this._headPosition.x-=1;break;case l.N:this._headPosition.y+=1;break;case l.S:this._headPosition.y-=1}this._moveTail=!0}},{key:"onKeyPress",value:function(e){switch(e){case"ArrowDown":this._direction!==l.N&&(this._newdirection=l.S);break;case"ArrowUp":this._direction!==l.S&&(this._newdirection=l.N);break;case"ArrowLeft":this._direction!==l.E&&(this._newdirection=l.W);break;case"ArrowRight":this._direction!==l.W&&(this._newdirection=l.E)}}},{key:"increaseLength",value:function(){this._foodEaten++,this._moveTail=!1}},{key:"eatBadFood",value:function(){this._badFoodEaten++}},{key:"updateDirections",value:function(){this._headPosition.direction=this._direction,this.stack.unshift(this._direction),this.stack=this.stack.slice(0,this._size+this._foodEaten);for(var e=this._bodyPositions.slice().reverse(),t=0;t<e.length;t++)e[t].direction=this.stack[t]}}]),e}();function Y(){return Number.parseInt(localStorage.getItem("hiscore")||"0")}var R=function(){function e(t,A,o){Object(O.a)(this,e),this.snakeSize=t,this.boardSize=A,this.interval=o,this._food=void 0,this._crown=void 0,this._badFoods=[],this.snake=void 0,this.counter=0,this.crownActive=!1,this.snake=new K(t,A),this._food=this.getNewFood()}return Object(Q.a)(e,[{key:"getGameoverMessage",value:function(){var e;if(this.isOutOfBounds()||this.hasHitSelf()||this.hasHitBadFood()&&!this.crownActive){if((e=this.getScore())>Y()&&localStorage.setItem("hiscore",e.toString()),Y(),this.hasHitBadFood()&&!this.crownActive)return"Don't eat the Tomsos \ud83d\ude22\ud83d\ude22\ud83d\ude22  Sad one.";if(this.isOutOfBounds())return"You're out of bounds!";if(this.hasHitSelf())return"You hit yourself!"}}},{key:"hasHitBadFood",value:function(){var e=this.snake.getHeadPosition();return this._badFoods.some((function(t){return t.isPositionEqual(e)}))}},{key:"getFood",value:function(){return this._food}},{key:"getInterval",value:function(){return this.interval}},{key:"getNewFood",value:function(){return this._food=this.getFoodPosition(),this.getFood()}},{key:"getBadFoods",value:function(){return this._badFoods}},{key:"getNewBadFood",value:function(){this.counter++;for(var e=0;e<this.counter;e++){var t=this.getFoodPosition();this._badFoods.push(t)}return this.getBadFoods()}},{key:"eatBadFood",value:function(e){this.snake.eatBadFood(),this._badFoods=this._badFoods.filter((function(t){return!t.isPositionEqual(e)}))}},{key:"getCrown",value:function(){return this._crown}},{key:"setCrownActive",value:function(){this.crownActive=!0}},{key:"getNewCrown",value:function(){var e=this.getFoodPosition();return this._crown=e,this.getCrown()}},{key:"getFoodPosition",value:function(){var e=[this.snake.getHeadPosition(),this._food,this._crown].concat(Object(H.a)(this.snake.getNextHeadPositions()),Object(H.a)(this._badFoods),Object(H.a)(this.snake.getBodyPositions()));return this.getFoodPositionRecurse(e)}},{key:"getScore",value:function(){return 20*this.snake._badFoodEaten+10*this.snake._foodEaten}},{key:"getFoodPositionRecurse",value:function(e){var t=Math.floor(Math.random()*this.boardSize),A=Math.floor(Math.random()*this.boardSize),o=new N(t,A);return e.some((function(e){return e&&e.isPositionEqual(o)}))?this.getFoodPositionRecurse(e):o}},{key:"isOutOfBounds",value:function(){var e=this.snake.getHeadPosition();return e.x>=this.boardSize||e.x<=-1||e.y>=this.boardSize||e.y<=-1}},{key:"hasHitSelf",value:function(){var e=this.snake.getBodyPositions(),t=this.snake.getHeadPosition();return e.some((function(e){return e.isPositionEqual(t)}))}}]),e}();var G=function(){var e=Object(o.useState)(new R(3,12,400)),t=Object(s.a)(e,2),A=t[0],n=t[1];return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",null,"shanali-snake"),i.a.createElement("h1",{style:{marginLeft:"30px"}},"Hiscore: ",Y())),i.a.createElement(C,{board:A,onRestart:function(){return n(new R(3,12,400))}}))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var A=e.installing;null!=A&&(A.onstatechange=function(){"installed"===A.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(i.a.createElement(G,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/tomn37.github.io",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/tomn37.github.io","/service-worker.js");U?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(A){var o=A.headers.get("content-type");404===A.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):J(t,e)}))}}()}],[[15,1,2]]]);
//# sourceMappingURL=main.b2f27451.chunk.js.map